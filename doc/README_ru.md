 ЧТО ЭТО?
==========

А я и сам толком не знаю. Иногда кое-что легче сделать, чем рассказать, что это и для чего это.

Можно по-разному трактовать и само название *expagog*, но педагогическая составляющая в нем определенно есть.

*А-а, педагогика! Как это скучно, Саша, подай нам что-нибудь поинтереснее!*

И вот вам интересное бесплатное приложение к педагогике - эксперимент и приключение в стиле *expagog*.

---

*Ну, страсть к приключениям - это же авантюризм, Саша! Сегодня этим обуян весь мир, а несколько дядек - в особенности.*

A вот вам и узда для авантюр - *expagog*. Чтобы было меньше буковок и пафоса, сократим это название до *EG*.

Приключения бывают разные. Вот, например, сейчас (март 2025-го) у христиан Великий пост. *EG* идеально подходит для приключения под названием *пост*. Весь смысл *EG* как раз в том, чтобы эта педагогика была не постной и скучной, a интересной, хотя и не без строгости, не без узды, как и положено педагогике.

Это *приключение с умом* - вот что такое *EG*. Наконец-то я нашел сносное определение для этой проги.

В силу некоторых особенностей реализации, о чем речь ниже, *EG* направлен в сторону добра - добрых предприятий и приключений. К тому же зло интересно только в теории, а на практике противно природе человеческой, и если ко злу присмотреться, то оно окажется сплошным занудством, унынием и глупостью. Дьявол прежде всего глуп и интересен только дуракам своими глупыми *деталями*.

---

*Ну, ты загнул, Саша! Скоро будешь нам проповеди втюхивать? Попахивает сектой, однако.*

Да, есть опасность и вероятность превращения этой простой проги *EG* в некое сектантство. Однако, поверьте, это не было заложено в *EG* изначально, этого нет сейчас и, надеюсь, не будет никогда.

Во-первых, если уж отрываться от земли, то *EG* - не новая религия, а скорее инструмент для поддержания в себе своей *религиозности*, такой, как ее понимает всякий мыслящий человек. Христианин понимает ее по-своему, мусульманин, буддист, иудей и т.д. - по-своему, но в корне всякой религии лежит базовое *не обижай никого, не поступай бесчестно*.

Во-вторых, технически *EG* похож на школьного учителя. А учителя, как мы все помним, были у нас разные. С одними было интересно, с другими не очень, а у третьих что ни урок, то приключение для мозга. И это при том, что отметок за выученные уроки никто не отменял. *Не выучил? Садись, два!*

Но даже не очень умелые учителя в силу своей профессии побуждают нас к добру. Примерно так же можно использовать и *EG* - когда умело, когда не очень, но всегда в направлении добра. И никакого сектантства! Какое там еще сектантство в школе?

---

Главная цель *EG* - направить активность человека на эксперимент и приключение, притом в широком смысле и в контексте добра.

Поэтому *EG* делает жизнь не просто интересной, но и

  - предсказуемой насчет злых дел и глупых ситуаций
  - непредсказуемой насчет добрых дел и умных ситуаций

Это означает, что человек избегает дурных дел и глупого поведения, тогда как добрые дела определенно ждут его благодаря побуждениям и поощрениям от *EG*.

Однако, ближе к делу.

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg1.png" class="media" alt="">

 ТЕРМИНЫ
=========

**Неделя** - начинается с понедельника, заканчивается воскресеньем.

**Тема** - любое занятие, тема или тип эксперимента / приключения, например: *НЕ_Курю*, *Подвиг* (пробелы в названиях тем исключаются).

**Вычисляемая тема** - рассчитывается по формуле, например: *Dist / Time*.

**Переключаемая тема** - в этой теме информация не вводится с клавиатуры, а переключается с иконки *?* на иконки *yes*, *lamp*, *no*, по принципу светофора (зелёный, жёлтый, красный).

**Формат** - задает тип значений темы; возможные форматы: число (*99.9*), время (*time*), вычисляемое значение (*calc*), переключатель (*chk*), текст (*xxx*).

**EG** - последняя в списке тем, общая оценка пользователя для прожитого им дня.

**AggrEG** - агрегатная оценка, вычисляемая по заданной пользователем формуле и задающая "вес" тем; отражает общее качество прожитого дня / недели / месяца / года.

**Ячейка** - находится на пересечении строки *тема* со столбцом *день недели*.

**Значение ячейки** - для тем типа чисел и времени это их значения; для переключателя это 2 (*да*), 1 (*лампа*), 0 (*?*), -1 (*нет*); для текста это всегда 1 плюс число начальных "+" минус число "-" (например, "++ wow!" равно 3); значения меньше нуля обнуляются (в *EG* нет негатива).

**Расписание** - задается в виде вопросительных знаков ("?") в ячейках таблицы; это пункты вашего приключения, которые желательно исполнить, например пункт *Подвиг* - в среду; значение "?" в таблице равно 0, поэтому оно *портит статистику*, если эксперимент ячейки не отработан.

**Диаграмма** - имеет два вида: гистограмма и график.

**Кумулятивная диаграмма** - диаграмма, каждая точка которой получается суммированием значений предыдущего периода; последнее значение - сумма всех значений.

**Тег** - ключевое слово, которым можно пометить ячейку; теги доступны через контекстное меню ячеек; есть три тега, которые помечают ячейку цветом.

**Комментарий к ячейке** - произвольный текст для текущей ячейки; может содержать теги; комментарии можно искать с помощью кнопки *Find*.

**Общие заметки** - произвольный текст под диаграммой, содержащий замечания и выводы по текущей базе, диаграмме и пр.

**Наклейка** - краткая заметка, которая может пригодиться в работе с *EG*, например, критерии и эквиваленты оценок; наклейки можно помещать в любом месте экрана и раскрашивать любым цветом.

**Статистика** - сводные данные по текущей базе; содержит два раздела данных - *Текущая неделя и план на следующую* и *Предыдущие, текущие и последующие недели*.

**Count / Count0** - в статистике означают общее число непустых ячеек и число непустых ячеек со значением 0.

**Отчет** - файл в формате html, в котором отражаются данные текущей базы, включая статистику; может быть использован для *внешнего употребления*.



 ОБЩИЙ ПОРЯДОК ИСПОЛЬЗОВАНИЯ
=============================

При первом запуске *EG* открывается таблица с темами *по умолчанию*. Скорее всего вы захотите заменить их своими темами и, возможно, изменить другие настройки программы.

Для изменения настроек кликните кнопку меню (*гамбургер*) и выберите пункт *Preferences*.

Затем на закладке *Items* замените темы по умолчанию своими темами. Форматы тем тоже можно исправить. Для удаления темы достаточно очистить ее название.

Обратите внимание на тему *Speed* - это вычисляемая тема, она отражает скорость, т.е. *Dist / Time* (Time - время, потраченное на расстояние Dist), и может служить эквивалентом скорости чего угодно, а также образцом для ввода вычисляемых тем.

При затруднениях пользуйтесь кнопкой *Help* для подсказки. Эта кнопка присутствует во всех диалогах *EG*.

После изменения настроек сохраните их, нажав кнопку *Save*. Откроется новая таблица с вашими темами.

Остаётся теперь только задать расписание тем на неделю. Расписание задается в таблице указанием вопросительных знаков ("?") в соответствующих ячейках, по темам и дням недели - как вам это будет удобно.

Вероятно, поначалу не стоит слишком напрягать расписание знаками "?", да и 5-6 тем вполне достаточно, пожалуй.

Итак, первоначальная настройка завершена, дальше - собственно использование программы *EG*.

А оно сводится к тому, что в конце дня вы просто вводите данные вместо "?", т.е. потраченное время (расстояние и т.д.) или иконки в переключаемых темах.

Особое внимание обратите на тему "*EG*" - это общая оценка прожитого дня. Определите для нее шкалу раз и навсегда, например, 5-, 10- или 100-бальную. Критерии оценок можете вынести в наклейку, оставив его открытым в удобном для вас месте экрана.

Пример такой шкалы:

    - 0 : a dull day, no experiment, no good deed, everything is bad
    - 1 : empty, nominal attempt to experiment
    - 2 : an unsuccessful attempt to experiment, although not empty
    - 3 : an almost satisfactory attempt
    - 4 : satisfactory, quite acceptable attempt
    - 5 : standard successful experimentation
    - 6 : good experimentation, "above average"
    - 7 : very good experimentation (flaws are negligible)
    - 8 : almost perfect experimentation
    - 9 : I am a real experimenter, at that being modest and in harmony with people

Любую ячейку можно прокомментировать в текстовом поле под таблицей. Также можно помечать ячейки цветом и тегами, выбирая их из контекстного меню ячеек.

В основном, на этом всё. Дальше вам останется только анализировать (в конце недели, месяца, года) введенные данные с помощью диаграмм и статистики. Они подскажут вам, что удалось, что не очень удалось, где случились провалы, что можно исправить, ускорить или притормозить.

Поразмыслить 5 минут в конце дня о том, что удалось, а что не очень - разве это не прекрасно?

Ценность ваших данных будет возрастать вместе с их объемом.



 ПОИСК
=======

Для открытия диалога поиска можно кликнуть иконку *Find* на панели инструментов, выбрать из меню пункт *Find* или нажать комбинацию клавиш *Ctrl+F*.

Поиск можно выполнять по текстовым комментариям ячеек и по текстовым темам (если они заданы в настройках).

В строке поиска задайте искомое значение и нажмите кнопку *OK*. Будет выдан список найденных текстовых совпадений.

Если надо искать по списку тегов (т.е. просто по списку слов), включите режим *As tags*.

Режим *Match case* позволит искать текст с учётом регистра букв.

Кликните любую строку в списке найденных совпадений - и вы перейдете на соответствующую ячейку таблицы.

Диалог *Find* после открытия можно не закрывать, он не влияет на работу в основном окне *EG*. Геометрия и опции диалога *Find* сохраняются до следующей сессии.

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg3.png" class="media" alt="">

 ДИАГРАММЫ
===========

При старте *EG* отображается гистограмма для агрегированного показателя *AggrEG*, его формула находится над графиком. Формулу можно исправить в любое время, подтвердив изменение нажатием клавиши *Enter*. В формуле можно указывать названия тем, например: *EG + Feat + Eco*.

Для выбора другого показателя диаграммы кликните выпадающий список в панели инструментов диаграммы. В этом списке можно выбирать отдельные темы для гистограмм или избранные темы. После отметки избранных тем в списке *Polygons* график для них строится при выборе пункта *Polygon*.

Показатель *Totals* означает сумму всех значений всех тем, независимо от их "веса", отражаемого в *AggrEG*. Можно сказать, *Totals* отражает общую активность в *expagog*.

Переключатель *weeks* позволяет просматривать диаграммы в разрезе недель и дней. После клика по неделе или дню отображается соответствующая таблица.

Переключатель *cumulate* позволяет получать кумулятивные диаграммы, в которых можно видеть накопительные суммы, последняя будет общей суммой показателя.

Для обновления текущей диаграммы (при изменении исходных данных) можно кликнуть кнопку *Redraw* в инструментах диаграммы или нажать клавишу *F5*. Прокрутить диаграмму влево-вправо можно кнопками стрелок.

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg4.png" class="media" alt="">

 СТАТИСТИКА
============

Для получения статистических сведений по текущей базе данных можно кликнуть кнопку *Statistics* на панели инструментов, выбрать пункт *Statistics* в меню или нажать клавишу *F6*.

Статистика базы данных состоит из двух разделов:

   - данные по текущим неделям и расписание на следующую

   - данные по предыдущим, текущим и последующим неделям

Интервал дат для графы *текущие недели* задается в заголовке отчета. Данные в эту графу включаются с 1-й даты (включительно) до 2-й даты (исключительно).

Данные в отчете помечаются цветом, если они изменились относительно предыдущего периода более чем на 2%.

Графа *Count* отражает общее число непустых ячеек в расписании. Графа *Count0* - общее число непустых ячеек со значением 0.

Средние значения получаются делением сумм на *Count*.

Геометрия и опции диалога *Statistics* сохраняются до следующей сессии.

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg5.png" class="media" alt="">

 ОТЧЕТ
=======

Для получения отчета по текущей базе можно выбрать пункт *Report* в меню или нажать клавишу *F7*.

Вам будет выдано окно с настройками отчета.

Главные:

   - *From template file* - исходный шаблон в формате html

   - *To resulting .html* - результат: отчет в формате html

Настройки заголовка отчета:

   - *Title*  - произвольное название для отчета

   - *Normal* - обычный текст

   - *Red*    - выделенный текст

Если вы не планируете использовать отчет где-то на каком-то сайте, можете оставить настройки html без изменения.

В противном случае вы можете изменить настройки html:

   - *Css file*     - файл CSS

   - *Icon file*    - файл иконки

   - *1st .js file* - 1-й файл с кодом JavaScript, исполняемый в браузере

   - *2nd .js file* - 2-й файл JavaScript

   - *JS code*      - код JavaScript, исполняемый в браузере

Для получения отчета нажмите кнопку *Report*.

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg6.png" class="media" alt="">

 НАСТРОЙКА
===========

Для изменения настроек текущей базы надо выбрать пункт *Preferences* в меню.

Что касается содержимого базы, то основные настройки - это список тегов и список тем.

Теги можно задать на первой вкладке настроек. Можно определить три цвета для выделения ячеек цветом и пометки ячеек тегами *Red, Yellow, Green*. В тексте тегов можно вводить их в виде списка ключевых слов. Теги будут доступны в таблице из контекстного меню ячеек.

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg2.png" class="media" alt="">

Список тем находится на второй вкладке настроек. Каждая тема имеет:

   - цвет (для диаграмм)
   - название
   - тип данных

Типы данных:

   - *целое число* : в этом случае тип задается как 9, 99, 999 и т.п.

   - *вещественное число* : в этом случае тип задается как 9.9, 99.9, 999.99 и т.п.

   - *time* : тип "время", в таблице вводится как чч.мм (часы.минуты), отображается как чч:мм

   - *chk* : переключатель между *?, да, лампа, нет*, означающими значения 0, 2, 1, -1 соответственно

   - *calc* : вычисляемый тип

   - прочие : тип *произвольный текст*, возможно с ведущими знаками "+" / "-" для повышения / понижения его значения

Вычисляемый тип (*calc*) задается в виде:

     calc:format:formula

где *format* - формат получаемого в результате расчета числа, *formula* - формула расчета, включающая названия тем, например:

     calc:99.9:Dist/Time

Темы можно тасовать в списке, с помощью кнопок *вверх, вниз*.

В пустых строках можно вводить новые темы.

Можно также переименовывать существующие темы. Названия темам желательно давать краткие. Длина названия - не более 16. Пробелы в названиях исключаются.

Удалить тему можно простой очисткой ее названия. При этом важно помнить, что данные по удаленной теме из базы не удаляюся, тема просто становится *невидимой*. Восстановить ее можно, заново включив ее в список тем.

На закладке тем можно ввести также формулу агрегатной оценки *EG* - *AggrEG*. По умолчанию она равна просто значению темы "*EG*", но в принципе эта оценка может как повышать вес отдельных тем, так и понижать его. Если числа в какой-либо теме имеют отрицательный смысл (например, *Выкуренных_Сигарет*), то и в формуле *AggrEG* ее надо минусовать, например:

     EG * 10 + Спасенных_жизней * 100 - Выкуренных_Сигарет * 5

Формула *AggrEG* может включать как названия, так и номера тем в виде *$N*, например:

     EG*10 + $1*100 - $9*5

 <img src="https://github.com/aplsimple/expagog/releases/download/Screens_of_EG-1.0/eg22.png" class="media" alt="">

 СОХРАНЕНИЕ ДАННЫХ
===================

Для сохранения своих данных всегда завершайте работу с *EG* после ввода данных.

Для получения архивной копии текущей базы надо выбрать пункт *Backup* в меню.
Будет предложено задать имя файла архивной копии. Выберите любое.

Рядом с этим архивом будут создаваться его копии по дням недели, так что при необходимости вы всегда сможете восстановить данные из архивов предыдущих 6 дней.

Вы можете также задать режим автосохранения архивной копии на выходе из *EG*.

Учтите следующее:

  1. Если ваши данные хранятся на флешке (как у меня, например), то архивировать их лучше всего на другой носитель, и наоборот. Тогда, при потере одного носителя у вас хотя бы останется архив на другом.

  2. Для сохранения данных во время работы с *EG* нажмите кнопку *Save* в панели инструментов *EG*, либо выберите пункт *Save* из меню, либо нажмите комбинацию клавиш *Ctrl+S*.

  3. После ввода значения в ячейке подтверждайте ввод нажатием клавиши *Enter*.

И еще раз: всегда завершайте работу с *EG* после ввода данных! Большая красная кнопка наверху справа будет вам в помощь.



 ВОЗМОЖНЫЕ ВОПРОСЫ
===================

**Вопрос**:

 Почему нет опций ввода пароля и шифрования данных?

**Ответ**:

 Программа *expagog* - это о добрых экспериментах и приключениях, значит, нечего скрывать, как и заповедал нам Христос (*Мф.5: 15-16*).

 А еще открытость базы *EG* отпугнет тех, кто захочет направить эту прогу не на благо, а на зло.

---

**Вопрос**:

 Почему выбран доморощенный формат базы? Почему не SQLite? Почему не JSON?

**Ответ**:

 Насчёт SQLite - см. ответ на первый вопрос.

 Насчёт JSON можно поподробнее. Данные в *EG* сохраняются в виде словаря Tcl,  причем для большей живучести пары *ключ значение* хранятся построчно.

 Большой разницы между форматом json языка JavaScript и форматом dictionary языка Tcl я не вижу. Программа *EG* написана на языке Tcl, если что.

 Экспорт данных *EG* в .json файл может быть реализован - при желании вопрошающего им же. Это легкое упражнение в Tcl и приключение в *EG*.

---

**Вопрос**:

 Почему программа не локализована на моем языке X?

**Ответ**:

 Знание нескольких английских слов еще никому не повредило.

 *EG* - всего лишь форма, а не содержание. Содержание может быть на любом языке X.

 Если вам так уж хочется иметь локализацию на языке X, мы можем сделать это на счет три:

  1. В репозитории github.com/aplsimple/expagog, раздел Issues, вы оставляете заявку на локализацию языка X.

  2. Я передаю вам шаблон английских сообщений *EG*, с объяснением что и как.

  3. Вы переводите эти сообщения, и я включаю ваш перевод в *EG*.

 Впрочем, выражаясь на языке Tcl,

 *if {$X in {Russian Ukranian}} then {# 1st step suffices}*

---

**Вопрос**:

 Почему отсчет недель в *EG* начинается с 1 января? Нельзя ли с 1 сентября?

**Ответ**:

 Это одна из двух будущих доработок, которые переведут *EG* с версии 0.9 на версию 1.0.

 Вторая доработка - слияние файлов данных в один файл.

 Впрочем, ничто не мешает вам дробить год на периоды, скажем, 1-й семестр, 2-й семестр, лето и т.д., и создавать под это дело отдельные файлы данных.

 Функция слияния файлов хоть и не реализована пока, ее отсутствие тоже никого пока не напрягает.



 ЧТО ТАМ ЕЩЕ?
==============

Джон Стейнбек (*Вожак*):

*– А если я поведу людей на лодках, сэр? – Некуда их вести, Джоди. Все места уже заняты. Но не это самое худшее – нет, не это. Движение на запад умерло в людях. Запад их больше не манит. С этим покончено. Твой отец прав. Все в прошлом.*

---

Антон Чехов (*Крыжовник*):

*Надо, чтобы за дверью каждого довольного, счастливого человека стоял кто-нибудь с молоточком и постоянно напоминал бы стуком, что есть несчастные, что как бы он ни был счастлив, жизнь рано или поздно покажет ему свои когти, стрясется беда – болезнь, бедность, потери, и его никто не увидит и не услышит, как теперь он не видит и не слышит других. Но человека с молоточком нет, счастливый живет себе, и мелкие житейские заботы волнуют его слегка, как ветер осину, – и всё обстоит благополучно.*

---

*EG* мог бы стать *кем-нибудь с молоточком*, зовущим человека на запад или на восток - кому что нравится.



 ССЫЛКИ
========

Исходники:

  - [на ChiselApp](https://chiselapp.com/user/aplsimple/repository/expagog)

  - [на GitHub](https://github.com/aplsimple/expagog)

Установщики:

  - [для Linux и Windows](https://github.com/aplsimple/expagog/releases/tag/Installers_of_EG-1.0)

Демо-ролик:

  - [в формате .mp4](https://github.com/aplsimple/expagog/releases/tag/Demos_of_EG-1.0)
